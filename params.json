{"name":"knife-cookbook-doc","tagline":"Knife plugin to document cookbooks","body":"# knife-cookbook-doc\r\n\r\nThis is a knife plugin to help create and maintain a README.md for a cookbook.\r\nAs much as possible the plugin makes use of the same metadata as used by chef\r\nwhen generating the documentation. The plugin will also scan the source files\r\nfor annotations present in comments. Users can also add fragments of markdown\r\ninto the doc/ directory to merge into the generated README.md file.\r\n\r\nThe goal is to keep the code as the authoritative source of information. The\r\nhope is that keeping the documentation close to the code will help to maintain\r\nit's currency.\r\n\r\n## Getting Started\r\n\r\n#### Step 1\r\n\r\nPopulate the `metadata.rb` of your cookbook according to Opscode's\r\n[documentation](http://docs.opscode.com/config_rb_metadata.html). Particular\r\nattention should be paid to documenting the recipes, attributes, platform\r\ncompatibility and cookbook requirements (i.e. depends, recommends, suggests etc).\r\n\r\n#### Step 2\r\n\r\nAt the top of each cookbook, add a detailed documentation section such as;\r\n\r\n    =begin\r\n    #<\r\n    The recipe is awesome. It does thing 1, thing 2 and thing 3!\r\n    #>\r\n    =end\r\n\r\n#### Step 3\r\n\r\nIn each LWRP, add detailed documentation such as;\r\n\r\n    =begin\r\n    #<\r\n    This creates and destroy the awesome service.\r\n\r\n    @action create  Create the awesome service.\r\n    @action destroy Destroy the awesome service.\r\n\r\n    @section Examples\r\n\r\n        # An example of my awesome service\r\n        mycookbook_awesome_service \"my_service\" do\r\n          port 80\r\n        end\r\n    #>\r\n    =end\r\n\r\n    ...\r\n\r\n    #<> @attribute port The port on which the HTTP service will bind.\r\n    attribute :port, :kind_of => Integer, :default => 8080\r\n\r\nIt should be noted that the documentation of the LWRP requires that the user\r\ndocument the actions, using `@action <action> <description>` and the attributes\r\nusing `@attribute <attribute> <description>` so that there is meaningful\r\ndescriptions for the actions and attributes in the generated README.\r\n\r\nThe documentation will be added at the start of the LWRP documentation\r\nexcept if marked with `@section <heading>`, in which case it will be added\r\nto the head of the LWRP documentation.\r\n\r\n#### Step 4\r\n\r\nFinally the user should add some documentation fragments into the `doc/` dir.\r\nMost importantly you should add `doc/overview.md` which will replace the first\r\n`Description` section of the readme. The remaining fragments will be included\r\nat the end of the readme in lexicographic order of the filename.\r\n\r\n## Installation\r\n\r\nYou can install the plugin via RubyGems:\r\n\r\n    $ gem install knife-cookbook-doc\r\n\r\nAlternatively, you can install the plugin from source:\r\n\r\n    $ git clone git://github.com/realityforge/knife-cookbook-doc.git\r\n    $ cd knife-cookbook-doc/\r\n    $ bundle install\r\n    $ bundle exec rake install\r\n\r\nAfterwards, the new knife command `knife cookbook doc DIR` will be available.\r\n\r\n## Usage\r\n\r\n    knife cookbook doc COOKBOOK_DIR (options)\r\n\r\n        -o, --output-file FILE           Set the output file to render to relative to cookbook dir. Defaults to README.md\r\n        -t, --template FILE              Set template file used to render README.md\r\n\r\n    Examples:\r\n\r\n        knife cookbook doc path/to/cookbook\r\n        knife cookbook doc path/to/cookbook --template README.md.erb\r\n\r\n## Further Details\r\n\r\n### Documentation in comments\r\n\r\nThe documentation stored in comments comes in three forms;\r\n\r\n#### Single line comments\r\n\r\n    #<> This is some documentation\r\n\r\n#### Multi-line comments using begin/end\r\n\r\n    =begin\r\n    #<\r\n    This is some documentation\r\n    #>\r\n    =end\r\n\r\n#### Multi-line comments without using begin/end\r\n\r\n    #<\r\n    # This is some documentation\r\n    #>\r\n\r\n\r\n## Credit\r\n\r\nThe plugin was originally written by Mathias Lafeldt as a way to create\r\ninitial README.md from the metadata.rb. It was subsequently rewritten by\r\nPeter Donald to gather information from the other files within the cookbook.\r\nAll credit to Mathias for his wonderful idea.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}